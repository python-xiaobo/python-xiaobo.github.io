<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>一只龙のBlog</title>
  
  
  <link href="https://tdxhb.com/atom.xml" rel="self"/>
  
  <link href="https://tdxhb.com/"/>
  <updated>2023-12-26T10:57:01.080Z</updated>
  <id>https://tdxhb.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hellow Everyone</title>
    <link href="https://tdxhb.com/2023/12/15/%E8%AE%B0%E5%BD%95/Hello%20Everyone/"/>
    <id>https://tdxhb.com/2023/12/15/%E8%AE%B0%E5%BD%95/Hello%20Everyone/</id>
    <published>2023-12-15T10:07:20.000Z</published>
    <updated>2023-12-26T10:57:01.080Z</updated>
    
    <content type="html"><![CDATA[<p>欢迎大家来到我的博客，这里会分享我遇到的一些问题和一些小感悟。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;欢迎大家来到我的博客，这里会分享我遇到的一些问题和一些小感悟。&lt;/p&gt;
</summary>
      
    
    
    
    <category term="记录" scheme="https://tdxhb.com/categories/%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="记录" scheme="https://tdxhb.com/tags/%E8%AE%B0%E5%BD%95/"/>
    
    <category term="感想" scheme="https://tdxhb.com/tags/%E6%84%9F%E6%83%B3/"/>
    
  </entry>
  
  <entry>
    <title>Maya CMake 构建 C++ 插件编译环境</title>
    <link href="https://tdxhb.com/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/"/>
    <id>https://tdxhb.com/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/</id>
    <published>2023-12-15T10:07:20.000Z</published>
    <updated>2023-12-25T10:43:47.697Z</updated>
    
    <content type="html"><![CDATA[<h3 id="参考地址"><a href="#参考地址" class="headerlink" title="参考地址"></a>参考地址</h3><blockquote><p>编译c++插件：Camera Lattice</p><p><a href="https://www.toolchefs.com/?portfolio=camera-lattice" title="https://www.toolchefs.com/?portfolio=camera-lattice">https://www.toolchefs.com/?portfolio=camera-lattice</a></p><p>Maya CMake 构建 C++ 插件编译环境智伤帝</p><p><a href="https://github.com/Toolchefs/cameraLattice" title="https://github.com/Toolchefs/cameraLattice">https://github.com/Toolchefs/cameraLattice</a></p></blockquote><hr><h3 id="实际操作"><a href="#实际操作" class="headerlink" title="实际操作"></a>实际操作</h3><p>根据智伤帝的博客去配置了懒人包环境</p><blockquote><p><a href="https://blog.l0v0.com/posts/5875a169.html" title="https://blog.l0v0.com/posts/5875a169.html">https://blog.l0v0.com/posts/5875a169.html</a></p></blockquote><p>不过遇到了一点小问题</p><p>poetry shell时报错</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_Y9ltgsDn9m.png"></p><p>于是查看了下</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_jPqgBiNo26.png"></p><p>果断修改python版本（我这里时python3.9.1）</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_4Rp9jAUFIu.png"></p><p>在poetry shell时正常了。</p><hr><p>根据教程添加新工程，然后需将.cpp文件和.h文件放到CMakeLists.txt文件同目录下</p><p>最后在编译Camera Lattice插件时报错(打开VS生成看看具体错误，错误相同)：（警告忽略）</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_1o_nw0iWXU.png"></p><p>开始以为编译环境的问题但是尝试了一些简单的C++插件进行编译是可以的。</p><hr><p>于是又根据</p><p>Compiling Maya Plug-ins with CMake视频中的教程进行配置编译</p><blockquote><p><a href="https://www.bilibili.com/video/BV1bs4y1d7BQ?p=6&vd_source=b58905f2a15d3b725f70ca36955ed61b" title="https://www.bilibili.com/video/BV1bs4y1d7BQ?p=6&amp;vd_source=b58905f2a15d3b725f70ca36955ed61b">https://www.bilibili.com/video/BV1bs4y1d7BQ?p=6&amp;vd_source&#x3D;b58905f2a15d3b725f70ca36955ed61b</a></p><p><a href="https://www.youtube.com/watch?v=2mUOt_F2ywo&list=PL_RMNSHxKvdUFTdl12WumiqnNWLn4LDQj" title="https://www.youtube.com/watch?v=2mUOt_F2ywo&amp;list=PL_RMNSHxKvdUFTdl12WumiqnNWLn4LDQj">https://www.youtube.com/watch?v=2mUOt_F2ywo&amp;list&#x3D;PL_RMNSHxKvdUFTdl12WumiqnNWLn4LDQj</a></p></blockquote><p>需将.cpp文件和.h文件放到CMakeLists.txt文件同目录下，并在CMakeLists.txt内容中添加源文件和头文件</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_6GjsKer6ah.png"></p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_NE3noV0iBS.png"></p><p>然后再根据教程输入</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_RNs4Fu1KpB.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">cmake -G <span class="hljs-string">&quot;Visual Studio 16 2019&quot;</span> -DMAYA_VERSION=<span class="hljs-number">2020</span> ../<br></code></pre></td></tr></table></figure><p>VS中打开build目录下生成的sampleplugin.sln文件</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_kTftnE-EnL.png"></p><blockquote><p>注意：</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/1681993090632_00G5q-0EIE.png"></p><p>需保持一致，不然可能出错。</p></blockquote><p>然后开始生成</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_HYmHkj_GtY.png"></p><p>结果还是报相同的错误：（警告忽略）</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_sUP6g_WKjJ.png"></p><hr><h3 id="解决错误"><a href="#解决错误" class="headerlink" title="解决错误"></a>解决错误</h3><p>visual studio。附加依赖项，加一个OpenGL32.lib，不用指定目录。</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/20200215165641703.jpg"></p><blockquote><p><a href="https://blog.csdn.net/weixin_45847407/article/details/126898176?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-126898176-blog-86497150.235%5Ev30%5Epc_relevant_default_base3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-126898176-blog-86497150.235%5Ev30%5Epc_relevant_default_base3&utm_relevant_index=5" title="https://blog.csdn.net/weixin_45847407/article/details/126898176?spm=1001.2101.3001.6650.2&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-126898176-blog-86497150.235^v30^pc_relevant_default_base3&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-126898176-blog-86497150.235^v30^pc_relevant_default_base3&amp;utm_relevant_index=5">https://blog.csdn.net/weixin_45847407&#x2F;article&#x2F;details&#x2F;126898176?spm&#x3D;1001.2101.3001.6650.2&amp;utm_medium&#x3D;distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-126898176-blog-86497150.235^v30^pc_relevant_default_base3&amp;depth_1-utm_source&#x3D;distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-126898176-blog-86497150.235^v30^pc_relevant_default_base3&amp;utm_relevant_index&#x3D;5</a></p><p>C++ Visual Studio报错:error LNKXXX: 无法解析的外部符号 __imp_XXXXX的解决方法</p></blockquote><p>这里正常生成正常了。</p><p>根据视频教程输入</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_5cyqOKKuH5.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">cmake --build . --config Release --target Install<br></code></pre></td></tr></table></figure><p>ok之后就可以正常生成mll文件了。</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_odwGDVTCSf.png"></p><p>修改文件名为tcCameraLattice.mll放入maya插件目录下C:\Program Files\Autodesk\Maya2020\bin\plug-ins</p><hr><p>根据Camera Lattice插件源码中的python文件内容</p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_LC5T2eSZJW.png"></p><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_8xt8vn3t3-.png"></p><p>在maya脚本编辑器中：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> tcCameraLattice<br>m=tcCameraLattice.run()<br></code></pre></td></tr></table></figure><p><img src="/2023/12/15/TD/Maya/%E7%BC%96%E7%A8%8B/Maya-CMake-%E6%9E%84%E5%BB%BA-C-%E6%8F%92%E4%BB%B6%E7%BC%96%E8%AF%91%E7%8E%AF%E5%A2%83/image_PtUyyox9Gc.png"></p><p>然后就可以去愉快的测试了插件功能了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;参考地址&quot;&gt;&lt;a href=&quot;#参考地址&quot; class=&quot;headerlink&quot; title=&quot;参考地址&quot;&gt;&lt;/a&gt;参考地址&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;编译c++插件：Camera Lattice&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ww</summary>
      
    
    
    
    <category term="TD" scheme="https://tdxhb.com/categories/TD/"/>
    
    <category term="Maya" scheme="https://tdxhb.com/categories/TD/Maya/"/>
    
    <category term="编程" scheme="https://tdxhb.com/categories/TD/Maya/%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="C++" scheme="https://tdxhb.com/tags/C/"/>
    
    <category term="Python" scheme="https://tdxhb.com/tags/Python/"/>
    
    <category term="Maya" scheme="https://tdxhb.com/tags/Maya/"/>
    
  </entry>
  
</feed>
